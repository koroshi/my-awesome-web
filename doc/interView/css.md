在HTML中，CSS的优先级是面试中的高频考点，它决定了多个冲突的CSS规则如何应用到元素上。以下通过具体示例说明优先级规则及其计算方法：


### **一、优先级规则总览**
优先级由高到低排序：
1. **内联样式**（如 `<div style="color: red;">`）
2. **ID选择器**（如 `#id`）
3. **类选择器**（如 `.class`）、属性选择器（如 `[type="text"]`）、伪类（如 `:hover`）
4. **元素选择器**（如 `div`）、伪元素（如 `::before`）
5. **通配符选择器**（如 `*`）
6. **继承样式**（无优先级，需显式指定）


### **二、面试常见示例**

#### **示例1：ID选择器 vs 类选择器**
```html
<style>
  .red-text { color: red; }  /* 类选择器 */
  #green-text { color: green; }  /* ID选择器 */
</style>

<div id="green-text" class="red-text">文字颜色是什么？</div>
```
**结果**：文字为绿色。  
**原因**：ID选择器优先级高于类选择器。


#### **示例2：内联样式 vs ID选择器**
```html
<style>
  #blue-text { color: blue; }  /* ID选择器 */
</style>

<div id="blue-text" style="color: purple;">文字颜色是什么？</div>
```
**结果**：文字为紫色。  
**原因**：内联样式优先级高于ID选择器。


#### **示例3：多选择器组合**
```html
<style>
  /* 优先级：1个ID + 1个元素 = 101 */
  #container div { color: orange; }

  /* 优先级：2个类 = 20 */
  .content .text { color: brown; }

  /* 优先级：1个类 + 1个元素 = 11 */
  .content div { color: gray; }
</style>

<div id="container" class="content">
  <div class="text">文字颜色是什么？</div>
</div>
```
**结果**：文字为橙色。  
**原因**：`#container div` 的优先级最高（101 > 20 > 11）。


#### **示例4：相同优先级时的规则**
```html
<style>
  /* 优先级相同：1个类 = 10 */
  .highlight { color: red; }
  .highlight { color: blue; }
</style>

<div class="highlight">文字颜色是什么？</div>
```
**结果**：文字为蓝色。  
**原因**：相同优先级下，后声明的规则覆盖先声明的规则。


#### **示例5：!important 的影响**
```html
<style>
  .special { color: yellow !important; }  /* 强制优先级 */
  #main .text { color: pink; }  /* 优先级：101 */
</style>

<div id="main">
  <div class="text special">文字颜色是什么？</div>
</div>
```
**结果**：文字为黄色。  
**原因**：`!important` 会覆盖其他规则，除非其他规则也使用 `!important`（此时按优先级和声明顺序判断）。


#### **示例6：继承样式的优先级**
```html
<style>
  body { color: navy; }  /* 继承样式 */
  .child { color: initial; }  /* 重置为默认值 */
</style>

<body>
  <div class="child">文字颜色是什么？</div>
</body>
```
**结果**：文字为黑色（浏览器默认文本颜色）。  
**原因**：`initial` 重置为浏览器默认值，继承样式无优先级，被显式声明覆盖。


### **三、优先级计算方法**
优先级用四个数值表示：`(内联, ID, 类/属性/伪类, 元素/伪元素)`，例如：
- `style=""`：`(1, 0, 0, 0)`
- `#id`：`(0, 1, 0, 0)`
- `.class`：`(0, 0, 1, 0)`
- `div p`：`(0, 0, 0, 2)`
- `*`：`(0, 0, 0, 0)`（无贡献）

**比较规则**：从左到右逐位比较，数值大的优先级高；若相同则比较下一位。


### **四、面试注意点**
1. **避免滥用 `!important`**：会破坏样式表的正常优先级，增加维护难度。
2. **优先级相同时**：后声明的规则生效（与样式表加载顺序、内部/外部样式位置有关）。
3. **继承样式优先级最低**：需显式声明才能覆盖。
4. **属性值合并**：若多个规则不冲突，属性值会叠加（如 `color` 和 `font-size`）。


### **五、常见误区**
- **误区1**：选择器长度影响优先级（如 `div div div` 比 `div` 优先级高）。  
  **纠正**：仅看选择器类型，不看长度。

- **误区2**：行内样式表（`<style>` 标签）比外部样式表（`.css` 文件）优先级高。  
  **纠正**：优先级只与选择器类型有关，与样式表位置无关（除非选择器完全相同，此时后加载的覆盖）。

- **误区3**：通配符 `*` 会影响优先级。  
  **纠正**：通配符优先级为0，不参与计算。


通过以上示例和规则，可清晰理解CSS优先级的计算逻辑，应对面试中的优先级分析题。